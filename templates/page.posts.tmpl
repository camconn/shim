{{define "postsPage"}}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>SHIM | View Posts</title>
		{{template "stylesheets"}}
	</head>
	<body>
		{{template "navbar"}}

		<div id="content" class="content">
			<h1>Site Posts</h1>
			<hr>
			{{- if eq (len .Posts) 0 -}}
			<p>It looks like you do not have any posts! Would you like to <a href="/new/">write some</a>?</p>
			{{- else -}}
			{{- range $post := .Posts -}}
			<nav class="navbar" style="margin-bottom: 0em;">
				<div class="navbar-left">
					<div class="navbar-item">
						<h4>
							{{- $post.Title | html -}}
							{{- if $post.Draft -}}<i> (draft) </i>{{- end -}}
						</h4>
					</div>
				</div>
				<div class="navbar-right">
					<div class="navbar-item">
						<a class="tag is-primary" href="/edit/{{ $post.RelPath }}">Edit</a>
						<a class="tag is-danger" href="/delete/{{ $post.RelPath }}">Delete</a>
					</div>
				</div>
			</nav>
			<div style="margin-bottom:2em">
				<h5 class="subtitle">
					Published by <b>{{ $post.Author | html }}</b> &mdash; {{ $post.WebDate | html }}.
				</h5>
				<blockquote>{{- printf "%s" $post.GetBody | html -}}</blockquote>
			</div>
			{{- end -}}
			{{- end -}}
		</div>

		{{template "footer"}}
	</body>
</html>
{{end}}
