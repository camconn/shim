{{define "postsPage"}}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>SHIM | View Posts</title>
		{{ template "stylesheets" $ }}
	</head>
	<body>
		{{ template "navbar" $ }}

		<div id="content" class="content">
			<h1>Posts ({{ len $.Site.Posts }} total)</h1>
			{{- range $post := .Site.Posts -}}
			<div class="box">
				<!-- <nav class="navbar" style="margin-bottom: 0em;"> -->
				<nav class="navbar">
					<div class="navbar-left">
						<div class="navbar-item">
							<h3>{{- $post.Title | html -}}</h3>
						</div>
					</div>
					<div class="navbar-right">
						{{- if $post.Draft -}}
						<div class="navbar-item">
							<h4><span class="tag is-warning">Draft</span></h4>
						</div>
						{{- else -}}
						<div class="navbar-item">
							<h4><span class="tag is-success">Published</span></h4>
						</div>
						{{- end -}}
						<div class="navbar-item">
							<h4><a class="tag is-primary" href="{{ $.Base }}/edit/{{ $post.PostID }}">Edit</a></h4>
						</div>
						<div class="navbar-item">
							<h4><a class="tag is-danger" href="{{ $.Base }}/delete/{{ $post.PostID }}">Delete</a></h4>
						</div>
					</div>
				</nav>
				<p class="subtitle">
					{{- if $post.Draft -}}
						Written by <b>{{ $post.Author | html }}</b> &mdash; {{ $post.WebDate | html }}
					{{- else -}}
						Published by <b>{{ $post.Author | html }}</b> &mdash; {{ $post.WebDate | html }}
					{{- end -}}
				</p>
				<blockquote class="monospace description"><div>{{ $post.Description }}</div></blockquote>
			</div>
			{{- else -}}
			<hr>
			<p>It looks like you do not have any posts! Would you like to <a href="{{ $.Base }}/new/">write some</a>?</p>
			{{- end -}}
		</div>

		{{template "footer"}}
	</body>
</html>
{{end}}
